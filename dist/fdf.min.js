!function(e){"use strict";function t(e,t){return D.getAttribute(e,t)}function r(e,t){return t.getElementsByTagName(e)}function n(){return"0101.1001.0101.1010".replace(/[01]/g,function(e){var t=16*Math.random()|0,r="0"==e?t:3&t|8;return r.toString(16)})}function o(e,t){function r(e){t&&t(e),!n&&o.parentNode&&o.parentNode.removeChild(o),o.onload=o.onerror=o.onreadystatechange=null,o=null}var n=/\.css(?:\?|$)/i.test(e),o=M.createElement(n?"link":"script");n?(o.rel="stylesheet",o.href=e):(o.type="text/javascript",o.async=!0,o.src=e),o.charset=$.charset,"onload"in o?(o.onload=function(){r("load")},o.onerror=function(){r("error")}):o.onreadystatechange=function(){/loaded|complete|undefined/.test(o.readyState)&&r("load")},U.curScript=o,b?S.insertBefore(o,b):S.appendChild(o),U.curScript=null}function u(){if(M.currentScript)return M.currentScript.src;if(U.curScript)return U.curScript.src;if(U.actScript&&U.actScript.readyState===j.READY)return U.actScript.src;for(var e=r("script",S),t=e.length-1;t>=0;t--)if(e[t].readyState===j.READY)return U.actScript=e[t],U.actScript.src}function i(e){return e.match(/[^?#]*\//)[0]}function c(e){var t,r=$.paths;return r&&(t=e.match(/^([^\/:]+)(\/.+)$/))&&"string"==typeof r[t[1]]&&(e=r[t[1]]+t[2]),e}function a(e){for(e=e.replace(/\/\.\//g,"/").replace(/([^:\/])\/\/+/g,"$1/");e.match(/\/[^\/]+\/\.\.\//g);)e=e.replace(/\/[^\/]+\/\.\.\//g,"/");return e}function s(e){return e=a(e),/#$/.test(e)?e=e.slice(0,-1):!/\?|\.(?:css|js)$|\/$/.test(e)&&(e+=".js"),e.replace(":80/","/")}function l(e){if(e||(e=u()),U.uri[e])return U.uri[e];var t=i($.base),r=e,n=/^(extend|ext):\/\//i,o=/^(plugins|plu):\/\//i,a=/^(http:\/\/|https:\/\/|\/\/)/,l=/:\//,p=/^\//,f=/([^:])\/+/g,d=/^.*?\/\/.*?\//;if(null!=$.alias[e]&&(r=$.alias[r]),r=c(r),r=r.search(a)!==-1?r.replace(f,"$1/"):n.test(e)?t+"extend."+r.replace(n,""):o.test(e)?t+"plugins."+r.replace(o,""):l.test(e)?r:p.test(e)?(t.match(d)||["/"])[0]+r.substring(1):t+r,r=s(r),!$.cache){var m="nocache="+U.uuid;r+=r.indexOf("?")>-1?r.indexOf("nocache=")==-1?"&"+m:"":"?"+m}return U.uri[e]=r,r}function p(e,t,r){var n;if(r){U.curUri=e;var o=U.modMap[e].factory.apply(null,r);U.curUri=null,o&&(U.modules[e].exports=o),n=U.modules[e].exports}else U.modules[e]?(U.modules[e].exports=U.modMap[e].factory,n=U.modules[e].exports):n="this module no exports";t(n),f(e),n=null}function f(e){for(var t=0;t<U.modMap[e].oncomplete.length;t++)U.modMap[e].oncomplete[t](U.modules[e]&&U.modules[e].exports);U.modMap[e].oncomplete=[]}function d(e,t,r){var n=e;if("require"===e)return t(v);if("exports"===e){var u=U.modules[r.uri].exports={};return t(u)}return"module"===e?(U.modules[r.uri].require=v,t(U.modules[r.uri])):(e=l(e),U.modMap[e]?U.modMap[e].status===j.ERROR?t("error"):U.modMap[e].status===j.LOADING?U.modMap[e].oncomplete.push(t):U.modules[e].exports?t(U.modules[e].exports):"function"!=typeof U.modMap[e].factory?p(e,t):y(U.modMap[e].deps,function(){p(e,t,[].slice.call(arguments,0))},{uri:e}):(U.modMap[e]={status:"loading",oncomplete:[]},void o(e,function(r){return"load"==r?"function"!=typeof U.modMap[e].factory?p(e,t):y(U.modMap[e].deps,function(){p(e,t,[].slice.call(arguments,0))},{uri:e}):"error"==r?("error"===U.modMap[e].status,t(),f(e),N.log("error",'Module ["'+n+'"] is not defined')):void 0})))}function m(e,t,r){this.id=e,this.deps=t,this.factory=r,this.status=j.LOADED,this.oncomplete=[],U.modMap[e]=this,U.modules[e]={},U.modules[e].id=e}function h(e,t){var r=/[^.]\s*.require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;e=e.toString(),e.replace(r,function(e,r){t(r)})}function g(e,t,r){if("string"!=typeof e?(r=t,t=e,e=null):t||r||(r=e,t=[],e=null),(Array!==t.constructor||!e&&!r||e&&Array==t.constructor&&!r)&&(r=t,t=[]),0===t.length&&r&&"function"==typeof r&&r.length){h(r,function(e){t.push(e)});var n=["require"];r.length>1&&n.push("exports"),r.length>2&&n.push("module"),t=n.concat(t)}e=l(e),new m(e,t,r),t=null}function y(e,t){var r=arguments[2];if("string"==typeof e&&(e=[e]),t&&"function"!=typeof t)return N.log("error","fdf.use arguments type error");if("object"!=typeof r&&(r={}),r.uri=r.uri||E,0===e.length)return t();for(var n=e.length,o=[],u=0,i=e.length;u<i;u++)!function(u){d(e[u],function(i){n--,o[u]=i,0===n&&(t&&t.apply(null,o),o=null,e=null,r=null)},r)}(u)}function v(e){e=l(e);var t=U.modules[e];return t&&t.exports}function x(e){for(var t in e){var r,n=e[t];if("string"==typeof n){var r=n.replace(/\s+/g,"");r&&($[t]=r)}else $[t]=n}return $}var M=e.document,S=r("head",M)[0]||M.documentElement,b=r("base",S)[0],A=r("script",M),D=A[A.length-1],E=D.hasAttribute?D.src:t("src",4),R=t("fdf-base",0)||E,O=t("fdf-config",0),$={base:R,paths:{},charset:"utf-8",cache:!0,debug:!1,alias:{}},U={modules:[],modMap:[],uri:{},curUri:null,curScript:null,actScript:null,configUrl:O,uuid:n()},j={READY:"interactive",LOADING:"loading",LOADED:"loaded",ERROR:"error"},N={version:"0.0.1",extend:function(e){var t,r,n,o,u=0,i=this,c=!1,a=arguments.length;for("boolean"==typeof arguments[0]?(c=!0,u=1,a>2?(u=2,i=arguments[1]):void 0):a>1?(u=1,i=arguments[0]):void 0,o=u;o<a;o++){t=arguments[o];for(n in t)t[n]!==i&&(c&&"object"==typeof t[n]&&null!==t[n]?(r=Array==t[n].constructor?[]:{},i[n]=N.extend(c,i[n]||r,t[n])):i[n]=t[n])}return i},log:function(t,r){return!!$.debug&&(e.console?console[t](r):alert(t+" : "+r))}};if(U.configUrl){var q=i($.base);y(q+U.configUrl)}N.config=x,N.use=y,N.define=e.define=g,e.fdf=e.FDF=N}(window);